<!DOCTYPE html>
        {% load staticfiles %}
<html lang="en">
<head>
	
	<!-- start: Meta -->
	<meta charset="utf-8">
	<title>CloudDoor</title>

	<!-- end: Meta -->
	
	<!-- start: Mobile Specific -->
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- end: Mobile Specific -->
	
	<!-- start: CSS -->
	<link id="bootstrap-style" href="{% static "metro/css/bootstrap.min.css" %}" rel="stylesheet">
	<link href="{% static "metro/css/bootstrap-responsive.min.css" %}" rel="stylesheet">
	<link id="base-style" href="{% static "metro/css/style.css" %}" rel="stylesheet">
	<link id="base-style-responsive" href="{% static "metro/css/style-responsive.css" %}" rel="stylesheet">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&subset=latin,cyrillic-ext,latin-ext' rel='stylesheet' type='text/css'>
    <link href="{% static "css/bootstrap-datetimepicker.min.css" %}" rel="stylesheet" media="screen">

	<!-- end: CSS -->
	

	<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
	<!--[if lt IE 9]>
	  	<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<link id="ie-style" href="{% static "metro/css/ie.css" %}" rel="stylesheet">
	<![endif]-->

	<!--[if IE 9]>
		<link id="ie9style" href="{% static "metro/css/ie9.css" %}" rel="stylesheet">
	<![endif]-->
		

	<link rel="shortcut icon" href="{% static "metro/img/favicon.ico" %}">



</head>

<body>


	<div class="navbar">
		<div class="navbar-inner">
			<div class="container-fluid">
				<a class="btn btn-navbar" data-toggle="collapse" data-target=".top-nav.nav-collapse,.sidebar-nav.nav-collapse">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</a>
				<a class="brand" href="/aws/"><span>CloudDoor</span></a>

				<!-- start: Header Menu -->
				<div class="nav-no-collapse header-nav">
					<ul class="nav pull-right">

						<!-- start: User Dropdown -->
						<li class="dropdown">
							<a class="btn dropdown-toggle" data-toggle="dropdown" href="#">
								<i class="halflings-icon white user"></i>{{ user.username }}
								<span class="caret"></span>
							</a>
							<ul class="dropdown-menu">
								<li class="dropdown-menu-title">
 									<span>Account Settings</span>
								</li>
								<li><a href="/aws/profile"><i class="halflings-icon user"></i> Profile</a></li>
								<li><a href="/aws/logout"><i class="halflings-icon off"></i> Logout</a></li>
							</ul>
						</li>
						<!-- end: User Dropdown -->
					</ul>
				</div>
				<!-- end: Header Menu -->

			</div>
		</div>
	</div>
	<!-- start: Header -->

		<div class="container-fluid-full">
		<div class="row-fluid">

			<!-- start: Main Menu -->
			<div id="sidebar-left" class="span1">
				<div class="nav-collapse sidebar-nav">
					<ul class="nav nav-tabs nav-stacked main-menu">
						<li><a href="/aws/"><i class="icon-globe"></i><span class="hidden-tablet"> Dashboard</span></a></li>
                        <li><a href="/aws/region/eu-west-1"><i class="icon-globe"></i><span class="hidden-tablet"> Eu-West-1</span></a></li>
                        <li><a href="/aws/region/eu-central-1"><i class="icon-globe"></i><span class="hidden-tablet"> Eu-Central-1</span></a></li>
                        <li><a href="/aws/profile"><i class="icon-cog"></i><span class="hidden-tablet"> Settings</span></a></li>
                    </ul>
				</div>
			</div>
			<div id="content" class="span10">


			<ul class="breadcrumb">
				<li>
					<i class="icon-home"></i>
					<a href="/aws/">Home</a>
					<i class="icon-angle-right"></i>
				</li>
				<li><a href="#">Dashboard</a></li>
			</ul>

{% block body_block %}{% endblock %}



	</div><!--/.fluid-container-->

			<!-- end: Content -->
		</div><!--/#content.span10-->
		</div><!--/fluid-row-->

	<div class="modal hide fade" id="myModal">
		<div class="modal-header">
			<button type="button" class="close" data-dismiss="modal">Ã—</button>
			<h3>Settings</h3>
		</div>
		<div class="modal-body">
			<p>Here settings can be configured...</p>
		</div>
		<div class="modal-footer">
			<a href="#" class="btn" data-dismiss="modal">Close</a>
			<a href="#" class="btn btn-primary">Save changes</a>
		</div>
	</div>

	<div class="clearfix"></div>

	<footer>

		<p>


		</p>

	</footer>







	<!-- start: JavaScript-->

		<script src="{% static "metro/js/jquery-1.9.1.min.js" %}"></script>

	    <script src="{% static "metro/js/jquery-migrate-1.0.0.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery-ui-1.10.0.custom.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.ui.touch-punch.js" %}"></script>
	
		<script src="{% static "metro/js/modernizr.js" %}"></script>
	
		<script src="{% static "metro/js/bootstrap.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.cookie.js" %}"></script>
	
		<script src="{% static "metro/js/fullcalendar.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.dataTables.min.js" %}"></script>

		<script src="{% static "metro/js/excanvas.js" %}"></script>
        <script src="{% static "metro/js/jquery.flot.js" %}"></script>
        <script src="{% static "metro/js/jquery.flot.pie.js" %}"></script>
        <script src="{% static "metro/js/jquery.flot.stack.js" %}"></script>
        <script src="{% static "metro/js/jquery.flot.resize.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.chosen.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.uniform.min.js" %}"></script>
		
		<script src="{% static "metro/js/jquery.cleditor.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.noty.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.elfinder.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.raty.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.iphone.toggle.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.uploadify-3.1.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.gritter.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.imagesloaded.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.masonry.min.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.knob.modified.js" %}"></script>
	
		<script src="{% static "metro/js/jquery.sparkline.min.js" %}"></script>
	
		<script src="{% static "metro/js/counter.js" %}"></script>
	
		<script src="{% static "metro/js/retina.js" %}"></script>

		<script src="{% static "metro/js/custom.js" %}"></script>
        <script type="text/javascript" src="{% static "assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js" %}" ></script>
        <script src="{% static "assets/admin/pages/scripts/ui-general.js" %}" type="text/javascript"></script>
        <script type="text/javascript" src="{% static "js/bootstrap-confirmation.js" %}"></script>

<script type="text/javascript" src="{% static "assets/global/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js" %}" ></script>
    <script src="{% static "assets/admin/pages/scripts/form-samples.js" %}"></script>


<script>
      $(".form_datetime1").datetimepicker({
            autoclose: true,
            format: "yyyy-mm-dd hh:ii"

      });
$('button[name="remove_levels"]').on('click', function(e){
    var $form=$(this).closest('form');
    e.preventDefault();
    $('#confirm').modal({ backdrop: 'static', keyboard: false })
        .one('click', '#delete', function (e) {
            $form.trigger('submit');
        });
});
$('.btn.btn-primary').click(function(){

    var a=$(this).attr('ins_id');
    var b=$(this).attr('ins_act');
    var c=$(this).attr('region_name');


    $.ajax({
               type: "POST",
               url: "{% url 'ins_action' %}",
               data: {'ins_id': a, 'ins_action' :b, 'region_name' : c, 'csrfmiddlewaretoken': '{{csrf_token}}'},
               dataType: "text",
               success: function(response) {

                        if ( response == "success" ) {

                            alert(response);
                            console.log(response);
                            location.href = window.location.href
                            }
                        else {
                            alert(response);
                            }

                },
                error: function(rs, e) {

                       alert(rs.responseText);
                }
          });

    });
$('.another').click(function(){

    var a=$(this).attr('ins_id');
    var c=$(this).attr('region_name');
    var d=$(this).attr('vol_id');
    document.getElementById('snapshots').innerHTML = '';

    $.ajax({
               type: "POST",
               url: "{% url 'vol' %}",
               data: {'ins_id': a, 'region_name' : c, 'volume_name':d, 'csrfmiddlewaretoken': '{{csrf_token}}'},
               dataType: "text",
               success: function(response) {

                        if ( response == "success" ) {

                            $('#myDiv').show();

                            }
                        else {

                            var parsed = JSON.parse(response);
                            var tableData = '<table class="table table-striped table-bordered"><thead>'+
                                          '<tr role="row">'+
                                              '<th class="sorting" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-label="Action" style="width: 170px;">Snapshot Id</th>'+
                                              '<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Date" style="width: 248px;">Volume </th>'+
                                              '<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Days" style="width: 248px;">Description</th>'+
                                              '<th class="sorting_asc" role="columnheader" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="Days" style="width: 248px;">Date</th>'+
                                          '</tr>'+
                                      '</thead>';
                            if ( parsed.length >0 ) {

                            $.each(parsed, function(key, value){

                                    tableData += '<tr>';
                                    tableData += '<td>' + value['snapid'] + '</td>';
                                    tableData += '<td>' + value['snapvolume'] + '</td>';
                                    tableData += '<td>' + value['snapdesc'] + '</td>';
                                    tableData += '<td>' + value['snapdate'] + '</td>';
                                    tableData += '</tr>';

                            });
                            tableData += '</table>';
                            }
                            else {
                                tableData += '<tr>';
                                tableData += '<td>N/A</td>';
                                tableData += '<td>N/A</td>';
                                tableData += '<td>N/A</td>';
                                tableData += '<td>N/A</td>';
                                tableData += '</tr>';
                            }

                            document.getElementById('snapshots').innerHTML = tableData;

                            }




                },
                error: function(rs, e) {


                }
          });

    });
$('.form_datetime').datetimepicker({
        //language:  'fr',
        weekStart: 1,
        todayBtn:  1,
		autoclose: 1,
		todayHighlight: 1,
		startView: 2,
		forceParse: 0,
        showMeridian: 1
    });
$('input[type="radio"]').click(function(){
            if($(this).attr("value")=="onetime"){
                console.log("asd");
                $(".recurring").hide();


            }
            if($(this).attr("value")=="recurring"){
                console.log("bsd");
                $(".recurring").show();

            }
        });

</script>
	
</body>
</html>